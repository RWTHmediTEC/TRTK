<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Transformation and Registration Toolkit: TRTK::RansacPivotCalibrationModel&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<script src="../mathjax/MathJax.js">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespace_t_r_t_k.html">TRTK</a>      </li>
      <li><a class="el" href="class_t_r_t_k_1_1_ransac_pivot_calibration_model.html">RansacPivotCalibrationModel</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>TRTK::RansacPivotCalibrationModel&lt; T &gt; Class Template Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="TRTK::RansacPivotCalibrationModel" --><!-- doxytag: inherits="TRTK::Ransac::Model" -->
<p>This class implements the <a class="el" href="class_t_r_t_k_1_1_ransac_1_1_model.html" title="Interface class for models to be used with the Ransac class.">Ransac::Model</a> interface for all <a class="el" href="class_t_r_t_k_1_1_pivot_calibration.html" title="This is the common interface for all pivot-point-calibration classes.">PivotCalibration</a> classes.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_ransac_pivot_calibration_model_8hpp_source.html">RansacPivotCalibrationModel.hpp</a>&gt;</code></p>
<!-- startSectionHeader --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for TRTK::RansacPivotCalibrationModel&lt; T &gt;:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><div id="dynsection-0-summary" class="dynsummary" style="display:block;">
<!-- endSectionSummary --></div>
<!-- startSectionContent --><div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_t_r_t_k_1_1_ransac_pivot_calibration_model__inherit__graph.png" border="0" usemap="#_t_r_t_k_1_1_ransac_pivot_calibration_model_3_01_t_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="_t_r_t_k_1_1_ransac_pivot_calibration_model_3_01_t_01_4_inherit__map" id="_t_r_t_k_1_1_ransac_pivot_calibration_model_3_01_t_01_4_inherit__map">
<area shape="rect" id="node2" href="class_t_r_t_k_1_1_ransac_1_1_model.html" title="Interface class for models to be used with the Ransac class." alt="" coords="16,5,275,32"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>
<!-- startSectionHeader --><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png"/> Collaboration diagram for TRTK::RansacPivotCalibrationModel&lt; T &gt;:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><div id="dynsection-1-summary" class="dynsummary" style="display:block;">
<!-- endSectionSummary --></div>
<!-- startSectionContent --><div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_t_r_t_k_1_1_ransac_pivot_calibration_model__coll__graph.png" border="0" usemap="#_t_r_t_k_1_1_ransac_pivot_calibration_model_3_01_t_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="_t_r_t_k_1_1_ransac_pivot_calibration_model_3_01_t_01_4_coll__map" id="_t_r_t_k_1_1_ransac_pivot_calibration_model_3_01_t_01_4_coll__map">
<area shape="rect" id="node2" href="class_t_r_t_k_1_1_ransac_1_1_model.html" title="Interface class for models to be used with the Ransac class." alt="" coords="16,5,275,32"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center><!-- endSectionContent --></div>

<p><a href="class_t_r_t_k_1_1_ransac_pivot_calibration_model-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afbb34d1e872713a7395298d653b68912"></a><!-- doxytag: member="TRTK::RansacPivotCalibrationModel::value_type" ref="afbb34d1e872713a7395298d653b68912" args="" -->
typedef T&#160;</td><td class="memItemRight" valign="bottom"><b>value_type</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1325adccd1d72571993b193c0fd0b472"></a><!-- doxytag: member="TRTK::RansacPivotCalibrationModel::Vector3T" ref="a1325adccd1d72571993b193c0fd0b472" args="" -->
typedef <a class="el" href="class_t_r_t_k_1_1_pivot_calibration.html">PivotCalibration</a>&lt; T &gt;<br class="typebreak"/>
::Vector3T&#160;</td><td class="memItemRight" valign="bottom"><b>Vector3T</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a62686d49a6de2048e67f133f76513118"></a><!-- doxytag: member="TRTK::RansacPivotCalibrationModel::Matrix3T" ref="a62686d49a6de2048e67f133f76513118" args="" -->
typedef <a class="el" href="class_t_r_t_k_1_1_pivot_calibration.html">PivotCalibration</a>&lt; T &gt;<br class="typebreak"/>
::Matrix3T&#160;</td><td class="memItemRight" valign="bottom"><b>Matrix3T</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae24734c9937c8832c2a6570008c5572f"></a><!-- doxytag: member="TRTK::RansacPivotCalibrationModel::DataType" ref="ae24734c9937c8832c2a6570008c5572f" args="" -->
typedef <a class="el" href="class_t_r_t_k_1_1_pivot_calibration.html">PivotCalibration</a>&lt; T &gt;<br class="typebreak"/>
::DataType&#160;</td><td class="memItemRight" valign="bottom"><b>DataType</b></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac_pivot_calibration_model.html#a589b663d692ea094121fb47aff6c5f0d">RansacPivotCalibrationModel</a> (<a class="el" href="class_t_r_t_k_1_1_pivot_calibration.html">PivotCalibration</a>&lt; T &gt; &amp;estimator)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an instance of <a class="el" href="class_t_r_t_k_1_1_ransac_pivot_calibration_model.html" title="This class implements the Ransac::Model interface for all PivotCalibration classes.">RansacPivotCalibrationModel</a>.  <a href="#a589b663d692ea094121fb47aff6c5f0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff8983f0a86d37a7e386ce62b66597a5"></a><!-- doxytag: member="TRTK::RansacPivotCalibrationModel::compute" ref="aff8983f0a86d37a7e386ce62b66597a5" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac_pivot_calibration_model.html#aff8983f0a86d37a7e386ce62b66597a5">compute</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimates the model parameters. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac73adbd50ccf28ff5a0dc2df4826219a"></a><!-- doxytag: member="TRTK::RansacPivotCalibrationModel::getDeviation" ref="ac73adbd50ccf28ff5a0dc2df4826219a" args="(const DataType &amp;datum) const " -->
T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac_pivot_calibration_model.html#ac73adbd50ccf28ff5a0dc2df4826219a">getDeviation</a> (const DataType &amp;datum) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the amount of how much a datum deviates from the model. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5e7b8ebec7f0f43b5e2a5ad573703d11"></a><!-- doxytag: member="TRTK::RansacPivotCalibrationModel::getMinimumNumberOfItems" ref="a5e7b8ebec7f0f43b5e2a5ad573703d11" args="() const " -->
unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac_pivot_calibration_model.html#a5e7b8ebec7f0f43b5e2a5ad573703d11">getMinimumNumberOfItems</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the minimum number of items required to compute the model. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b46d54cee12aa343befa2263b567002"></a><!-- doxytag: member="TRTK::RansacPivotCalibrationModel::getRMSE" ref="a3b46d54cee12aa343befa2263b567002" args="() const " -->
T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac_pivot_calibration_model.html#a3b46d54cee12aa343befa2263b567002">getRMSE</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the root mean square error of the estimated regression model. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec7d620fc8fe8590dc71a733277da692"></a><!-- doxytag: member="TRTK::RansacPivotCalibrationModel::setData" ref="aec7d620fc8fe8590dc71a733277da692" args="(const std::vector&lt; DataType &gt; &amp;data)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac_pivot_calibration_model.html#aec7d620fc8fe8590dc71a733277da692">setData</a> (const std::vector&lt; DataType &gt; &amp;data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the sample data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2657d108fb9041220e07d8cb7242a80b"></a><!-- doxytag: member="TRTK::RansacPivotCalibrationModel::setEstimator" ref="a2657d108fb9041220e07d8cb7242a80b" args="(PivotCalibration&lt; T &gt; &amp;estimator)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac_pivot_calibration_model.html#a2657d108fb9041220e07d8cb7242a80b">setEstimator</a> (<a class="el" href="class_t_r_t_k_1_1_pivot_calibration.html">PivotCalibration</a>&lt; T &gt; &amp;estimator)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the <a class="el" href="class_t_r_t_k_1_1_pivot_calibration.html">pivot calibration instance</a>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88657477c11b6b2bfe0d075f5d607357"></a><!-- doxytag: member="TRTK::RansacPivotCalibrationModel::getDeviation" ref="a88657477c11b6b2bfe0d075f5d607357" args="(const DataType &amp;datum) const =0" -->
virtual T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac_1_1_model.html#a88657477c11b6b2bfe0d075f5d607357">getDeviation</a> (const DataType &amp;datum) const =0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the amount of how much a datum deviates from the model. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4218f92329329dcfae6b95cdc9ac5a6"></a><!-- doxytag: member="TRTK::RansacPivotCalibrationModel::setData" ref="aa4218f92329329dcfae6b95cdc9ac5a6" args="(const std::vector&lt; DataType &gt; &amp;data)=0" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_r_t_k_1_1_ransac_1_1_model.html#aa4218f92329329dcfae6b95cdc9ac5a6">setData</a> (const std::vector&lt; DataType &gt; &amp;data)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the sample data. No data is copied but a reference is stored. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class T&gt;<br/>
 class TRTK::RansacPivotCalibrationModel&lt; T &gt;</h3>

<p>This class implements the <a class="el" href="class_t_r_t_k_1_1_ransac_1_1_model.html" title="Interface class for models to be used with the Ransac class.">Ransac::Model</a> interface for all <a class="el" href="class_t_r_t_k_1_1_pivot_calibration.html" title="This is the common interface for all pivot-point-calibration classes.">PivotCalibration</a> classes. </p>
<dl><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">T</td><td>Scalar type (must be a floating point).</td></tr>
  </table>
  </dd>
</dl>
<p>Here is an example that shows how to use this class:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;cmath&gt;</span>
<span class="preprocessor"> #include &lt;cstdlib&gt;</span>
<span class="preprocessor"> #include &lt;iostream&gt;</span>
<span class="preprocessor"> #include &lt;iomanip&gt;</span>
<span class="preprocessor"> #include &lt;utility&gt;</span>
<span class="preprocessor"> #include &lt;vector&gt;</span>
 
<span class="preprocessor"> #include&lt;Eigen/StdVector&gt;</span>
 
<span class="preprocessor"> #include &lt;<a class="code" href="_clock_8hpp.html" title="This file contains the declarations of the Clock class and related functions.">TRTK/Clock.hpp</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_coordinate_8hpp.html" title="This file contains the Coordinate class and related functions.">TRTK/Coordinate.hpp</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_tools_8hpp.html" title="This file contains various helper functions.">TRTK/Tools.hpp</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_transform3_d_8hpp.html" title="This file contains the Transform3D class.">TRTK/Transform3D.hpp</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_pivot_calibration_8hpp.html" title="This file contains the PivotCalibration class.">TRTK/PivotCalibration.hpp</a>&gt;</span>
<span class="preprocessor"> #include &lt;<a class="code" href="_ransac_pivot_calibration_model_8hpp.html" title="This file contains the RansacPivotCalibrationModel class.">TRTK/RansacPivotCalibrationModel.hpp</a>&gt;</span>
 
 
 <span class="keyword">using namespace </span>std;
 <span class="keyword">using namespace </span>TRTK;
 <span class="keyword">using namespace </span>TRTK::Tools;
 
 <span class="keywordtype">double</span> pi = 3.1415926535;
 
 <span class="keyword">typedef</span> PivotCalibration&lt;double&gt; Calibration;
 <span class="keyword">typedef</span> Calibration::value_type value_type;
 <span class="keyword">typedef</span> Calibration::Matrix3T Matrix;
 <span class="keyword">typedef</span> Calibration::Vector3T Vector;
 
 
 <span class="keyword">namespace</span>
 {
 
     <span class="keyword">struct </span>GenerateTestData
     {
         GenerateTestData(<span class="keywordtype">double</span> sigma = 0)
         {
             <span class="comment">// Generate some (noisy) test data.</span>
 
             <span class="comment">// We assume, there is a tool which is aligned with the x-axis. Its tool</span>
             <span class="comment">// tip is located at the (global) point p (pivot point), and the center of</span>
             <span class="comment">// the tool coordinate system is located at the point t. The local tool tip</span>
             <span class="comment">// position is defined to be (a, 0, 0).</span>
             <span class="comment">//</span>
             <span class="comment">// The relation between the local coordinate system and the global coordinate</span>
             <span class="comment">// system is given by p_global = R * p_local + t. The initial rotation R of</span>
             <span class="comment">// the tool coordinate system is a rotation of pi/2 in the x-y plane.</span>
             <span class="comment">//</span>
             <span class="comment">// Now the tool is rotated, where the tool tip remains at the same position.</span>
 
             Matrix R;
             R &lt;&lt; cos(pi/2), -sin(pi/2), 0,
                  sin(pi/2),  cos(pi/2), 0,
                          0,          0, 1;
 
             <span class="keywordtype">double</span> a = 70;
             p_local = Vector(a, 0, 0);
             p = Vector(1, 1, 1);
             Vector t = p - R * p_local;
 
             <span class="keywordflow">for</span> (<span class="keywordtype">double</span> theta = -0.8 * pi / 2; theta &lt; 0.8 * pi / 2; theta += pi / 20)
             {
                 <span class="keywordflow">for</span> (<span class="keywordtype">double</span> phi = -0.8 * pi / 2; phi &lt; 0.8 * pi / 2; phi += pi / 20)
                 {
                     <span class="comment">// Rotate around pivot point P.</span>
 
                     <span class="keyword">const</span> <span class="keywordtype">double</span> x = p.x();
                     <span class="keyword">const</span> <span class="keywordtype">double</span> y = p.y();
                     <span class="keyword">const</span> <span class="keywordtype">double</span> z = p.z();
 
                     Transform3D&lt;double&gt; transform;
                     transform.translate(-x, -y, -z).rotateZ(phi).rotateY(theta).translate(x, y, z);
 
                     Vector location = transform * t;
                     Matrix rotation = transform.getTransformationMatrix().block(0, 0, 3, 3) * R;
 
                     <span class="comment">// Add some noise</span>
 
                     <span class="keyword">using</span> <a class="code" href="namespace_t_r_t_k_1_1_tools.html#af3e27549e897ba171512b3d81a4a7b70" title="Random sample of the normal distribution.">TRTK::Tools::randn</a>;
                     location += sigma * Vector(<a class="code" href="namespace_t_r_t_k_1_1_tools.html#af3e27549e897ba171512b3d81a4a7b70" title="Random sample of the normal distribution.">randn</a>(), <a class="code" href="namespace_t_r_t_k_1_1_tools.html#af3e27549e897ba171512b3d81a4a7b70" title="Random sample of the normal distribution.">randn</a>(), <a class="code" href="namespace_t_r_t_k_1_1_tools.html#af3e27549e897ba171512b3d81a4a7b70" title="Random sample of the normal distribution.">randn</a>());
 
                     <span class="comment">// Store the results</span>
 
                     locations.push_back(location);
                     rotations.push_back(rotation);
                 }
             }
         }
 
         vector&lt;Matrix&gt; rotations;
         vector&lt;Vector&gt; locations;
         Vector p;
         Vector p_local;
     };
 
 } <span class="comment">// end of anonymous namespace</span>
 
 
 <span class="keywordtype">int</span> main()
 {
     cout &lt;&lt; setprecision(4);
     cout &lt;&lt; fixed;
 
     cout &lt;&lt; <span class="stringliteral">&quot;Pivot calibration example&quot;</span> &lt;&lt; endl;
     cout &lt;&lt; <span class="stringliteral">&quot;-------------------------&quot;</span> &lt;&lt; endl &lt;&lt; endl;
 
     GenerateTestData test_data;
     cout &lt;&lt; <span class="stringliteral">&quot;Ground truth&quot;</span> &lt;&lt; endl;
     cout &lt;&lt; <span class="stringliteral">&quot;Pivot point: &quot;</span> &lt;&lt; test_data.p.transpose() &lt;&lt; endl;
     cout &lt;&lt; <span class="stringliteral">&quot;Local pivot point: &quot;</span> &lt;&lt; test_data.p_local.transpose() &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;
 
     {
         Clock clock;
         srand(0);
         GenerateTestData test_data;
 
         PivotCalibrationTwoStep&lt;double&gt; calibration;
         calibration.setLocations(make_range(test_data.locations));
         calibration.setRotations(make_range(test_data.rotations));
         <span class="keywordtype">double</span> rmse = calibration.compute();
 
         cout &lt;&lt; <span class="stringliteral">&quot;No noise&quot;</span> &lt;&lt; endl;
         cout &lt;&lt; <span class="stringliteral">&quot;RMSE: &quot;</span> &lt;&lt; rmse &lt;&lt; endl;
         cout &lt;&lt; <span class="stringliteral">&quot;Global pivot point: &quot;</span> &lt;&lt; calibration.getPivotPoint().transpose() &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;
         cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; (calibration.getPivotPoint() - test_data.p).norm() &lt;&lt; endl;
         cout &lt;&lt; <span class="stringliteral">&quot;Local pivot point: &quot;</span> &lt;&lt; calibration.getLocalPivotPoint().transpose() &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;
         cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; (calibration.getLocalPivotPoint() - test_data.p_local).norm() &lt;&lt; endl;
         cout &lt;&lt; clock &lt;&lt; endl;
     }
 
     {
         Clock clock;
         srand(0);
         GenerateTestData test_data(0.1);
 
         PivotCalibrationTwoStep&lt;double&gt; calibration;
         calibration.setLocations(make_range(test_data.locations));
         calibration.setRotations(make_range(test_data.rotations));
         <span class="keywordtype">double</span> rmse = calibration.compute();
 
         cout &lt;&lt; <span class="stringliteral">&quot;With noise&quot;</span> &lt;&lt; endl;
         cout &lt;&lt; <span class="stringliteral">&quot;RMSE: &quot;</span> &lt;&lt; rmse &lt;&lt; endl;
         cout &lt;&lt; <span class="stringliteral">&quot;Global pivot point: &quot;</span> &lt;&lt; calibration.getPivotPoint().transpose() &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;
         cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; (calibration.getPivotPoint() - test_data.p).norm() &lt;&lt; endl;
         cout &lt;&lt; <span class="stringliteral">&quot;Local pivot point: &quot;</span> &lt;&lt; calibration.getLocalPivotPoint().transpose() &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;
         cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; (calibration.getLocalPivotPoint() - test_data.p_local).norm() &lt;&lt; endl;
         cout &lt;&lt; clock &lt;&lt; endl;
     }
 
     {
         Clock clock;
         srand(0);
         GenerateTestData test_data(0.1);
         vector&lt;pair&lt;Vector, Matrix&gt; &gt; data = <a class="code" href="namespace_t_r_t_k_1_1_tools.html#a87b1eaee4cca4d84cd57c37f3c0d2bf3" title="Zips two STL vectors into a single one.">zip</a>(test_data.locations, test_data.rotations);
 
         PivotCalibrationTwoStep&lt;double&gt; calibration;
         RansacPivotCalibrationModel&lt;double&gt; model(calibration);
         Ransac&lt;double, PivotCalibration&lt;double&gt;::DataType&gt; ransac;
 
         ransac.setModel(model);
         ransac.setData(data);
         ransac.setErrorTolerance(0.2);
 
         <span class="keywordtype">unsigned</span> number_of_samples_used = ransac.compute();
 
         cout &lt;&lt; <span class="stringliteral">&quot;RANSAC and noise&quot;</span> &lt;&lt; endl;
         cout &lt;&lt; <span class="stringliteral">&quot;RMSE: &quot;</span> &lt;&lt; model.getRMSE() &lt;&lt; endl;
         cout &lt;&lt; <span class="stringliteral">&quot;Number of samples used: &quot;</span> &lt;&lt; number_of_samples_used &lt;&lt; endl;
         cout &lt;&lt; <span class="stringliteral">&quot;Global pivot point: &quot;</span> &lt;&lt; calibration.getPivotPoint().transpose() &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;
         cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; (calibration.getPivotPoint() - test_data.p).norm() &lt;&lt; endl;
         cout &lt;&lt; <span class="stringliteral">&quot;Local pivot point: &quot;</span> &lt;&lt; calibration.getLocalPivotPoint().transpose() &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span>;
         cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; (calibration.getLocalPivotPoint() - test_data.p_local).norm() &lt;&lt; endl;
         cout &lt;&lt; clock &lt;&lt; endl;
     }
 
     <span class="keywordflow">return</span> 0;
 }
</pre></div><p>Output:</p>
<div class="fragment"><pre class="fragment">
  * Pivot calibration example
  * -------------------------
  * 
  * Ground truth
  * Pivot point: 1.0000 1.0000 1.0000
  * Local pivot point: 70.0000  0.0000  0.0000
  * 
  * 
  * No noise
  * RMSE: 0.0000
  * Global pivot point: 1.0000 1.0000 1.0000        Error: 0.0000
  * Local pivot point: 70.0000 -0.0000  0.0000      Error: 0.0000
  * Elapsed time: 0.0390 seconds.
  * 
  * With noise
  * RMSE: 0.1752
  * Global pivot point: 0.9918 1.0086 1.0184        Error: 0.0219
  * Local pivot point: 70.0125  0.0018  0.0190      Error: 0.0228
  * Elapsed time: 0.0350 seconds.
  * 
  * RANSAC and noise
  * RMSE: 0.1320
  * Number of samples used: 202
  * Global pivot point: 0.9856 1.0058 1.0158        Error: 0.0221
  * Local pivot point: 70.0144  0.0271  0.0202      Error: 0.0368
  * Elapsed time: 0.6570 seconds.
* </pre></div><p>For further information, please have a look at the documentation of the particular <a class="el" href="class_t_r_t_k_1_1_pivot_calibration.html">Pivot calibration class</a> and the <a class="el" href="class_t_r_t_k_1_1_ransac.html">Ransac</a> class, respectively.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_t_r_t_k_1_1_ransac.html" title="Robust model fitting.">Ransac</a>, <a class="el" href="class_t_r_t_k_1_1_ransac_1_1_model.html" title="Interface class for models to be used with the Ransac class.">Ransac::Model</a>, <a class="el" href="class_t_r_t_k_1_1_pivot_calibration.html" title="This is the common interface for all pivot-point-calibration classes.">PivotCalibration</a></dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Christoph Haenisch </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>0.1.0 </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>last changed on 2016-07-25 </dd></dl>

<p>Definition at line <a class="el" href="_ransac_pivot_calibration_model_8hpp_source.html#l00259">259</a> of file <a class="el" href="_ransac_pivot_calibration_model_8hpp_source.html">RansacPivotCalibrationModel.hpp</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a589b663d692ea094121fb47aff6c5f0d"></a><!-- doxytag: member="TRTK::RansacPivotCalibrationModel::RansacPivotCalibrationModel" ref="a589b663d692ea094121fb47aff6c5f0d" args="(PivotCalibration&lt; T &gt; &amp;estimator)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_r_t_k_1_1_ransac_pivot_calibration_model.html">TRTK::RansacPivotCalibrationModel</a>&lt; T &gt;::<a class="el" href="class_t_r_t_k_1_1_ransac_pivot_calibration_model.html">RansacPivotCalibrationModel</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_r_t_k_1_1_pivot_calibration.html">PivotCalibration</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"> <em>estimator</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructs an instance of <a class="el" href="class_t_r_t_k_1_1_ransac_pivot_calibration_model.html" title="This class implements the Ransac::Model interface for all PivotCalibration classes.">RansacPivotCalibrationModel</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">model</td><td>A <a class="el" href="class_t_r_t_k_1_1_fit.html">fitting class</a>. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_ransac_pivot_calibration_model_8hpp_source.html#l00290">290</a> of file <a class="el" href="_ransac_pivot_calibration_model_8hpp_source.html">RansacPivotCalibrationModel.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/Programmierung/C/TRTK/include/TRTK/<a class="el" href="_ransac_pivot_calibration_model_8hpp_source.html">RansacPivotCalibrationModel.hpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/>
    <address class="footer">
        <small>
            Copyright 2010 - 2019 by Christoph HÃ¤nisch,
            Chair of Medical Engineering (mediTEC),
            RWTH Aachen University <p>
            Documentation generated by <a href="http://www.doxygen.org/index.html"> Doxygen </a>
        </small>
    </address>

</body>
</html>
